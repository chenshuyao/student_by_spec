# 学生管理系统需求文档

## 1. 系统概述

### 1.1 项目背景

学生管理系统是一个轻量级的学生信息管理应用，旨在提供一个现代化、响应式的界面来管理学生信息。系统由 Next.js 前端和 Spring Boot 后端组成，支持学生信息的录入、查询、修改和删除等基本功能。

### 1.2 项目目标

1. 提供简洁直观的用户界面，支持各种设备访问
2. 实现学生基本信息的全面管理功能
3. 提供灵活的学生信息搜索功能
4. 确保系统的可靠性和安全性
5. 提供分页浏览功能，适应大数据量的场景

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 学生信息管理

1. **学生信息录入**
   - 系统应支持录入学生的基本信息
   - 必填项包括：姓名、性别、电话、年龄、专业
   - 选填项包括：籍贯、邮箱、标签、备注
   - 系统应自动记录信息的创建时间和最后修改时间

2. **学生信息查询**
   - 支持查看所有学生信息列表
   - 支持分页查询，默认每页显示10条记录
   - 支持按照姓名、电话号码或其他字段排序
   - 提供详细的学生信息查看功能

3. **学生信息更新**
   - 允许修改学生的所有信息字段
   - 系统应自动更新修改时间
   - 提供表单验证确保数据有效性

4. **学生信息删除**
   - 支持软删除学生记录（标记删除而非物理删除）
   - 删除前应提供确认机制，防止误操作

#### 2.1.2 搜索功能

1. **综合搜索**
   - 支持通过单一搜索框同时搜索姓名、电话、邮箱等多个字段
   - 搜索结果应支持分页显示

2. **精确搜索**
   - 支持按照姓名精确搜索
   - 支持按照电话号码精确搜索
   - 精确搜索应支持分页功能

### 2.2 用户界面需求

1. **响应式设计**
   - 界面应适应桌面和移动设备
   - 在小屏幕上提供良好的用户体验

2. **学生列表页面**
   - 显示学生基本信息（姓名、性别、电话、专业、邮箱）
   - 提供"新增"、"查看"、"编辑"、"删除"操作按钮
   - 提供搜索框和分页控制

3. **学生详情页面**
   - 显示学生的所有信息
   - 提供"编辑"和"返回列表"操作

4. **学生表单页面**
   - 提供创建和编辑学生信息的表单
   - 包含所有必要的输入字段和验证
   - 显示错误信息和提交状态

## 3. 技术需求

### 3.1 前端技术栈

1. **框架与语言**
   - Next.js 作为 React 框架
   - TypeScript 作为开发语言
   - 使用 Tailwind CSS 进行样式设计

2. **组件与库**
   - React Hook Form 用于表单处理和验证
   - React Icons 用于图标
   - Axios 用于 HTTP 请求

### 3.2 后端技术栈

1. **框架与语言**
   - Spring Boot 作为应用框架
   - Java 11 或更高版本
   - Spring Data JPA 用于数据访问

2. **数据库**
   - MySQL 8.0 或更高版本
   - 使用 JPA 进行对象关系映射

3. **API 设计**
   - RESTful API 设计原则
   - JSON 格式的请求和响应
   - 统一的错误处理和响应格式

## 4. 数据模型

### 4.1 学生实体 (Student)

| 字段         | 类型            | 描述                       | 是否必填 |
|-------------|----------------|----------------------------|---------|
| id          | Long           | 学生ID，自动生成             | 自动生成  |
| userId      | Long           | 用户ID，关联创建者           | 自动生成  |
| name        | String(64)     | 学生姓名                    | 是      |
| gender      | String(8)      | 性别（男/女/其他）           | 是      |
| phone       | String(16)     | 电话号码                    | 是      |
| age         | Integer        | 年龄                        | 是      |
| nativePlace | String(64)     | 籍贯                        | 否      |
| major       | String(128)    | 专业                        | 是      |
| email       | String(32)     | 邮箱地址                    | 否      |
| tag         | String(512)    | 标签，可用于分类             | 否      |
| remark      | String(512)    | 备注信息                    | 否      |
| createTime  | LocalDateTime  | 创建时间，自动记录           | 自动生成  |
| modifyTime  | LocalDateTime  | 修改时间，自动更新           | 自动生成  |
| isDelete    | Integer        | 是否删除（0:未删除，1:已删除）| 自动生成  |
| creator     | Long           | 创建者ID                    | 自动生成  |

### 4.2 专业选项 (Major)

系统预定义的专业选项：

1. 计算机
2. 土木工程
3. 理学院
4. 工商管理
5. 电子信息
6. 自动化

## 5. API 规范

### 5.1 基础 URL

```
/api/students
```

### 5.2 API 列表

#### 5.2.1 获取学生列表

- **请求方法**: GET
- **URL**: `/api/students`
- **描述**: 获取所有未删除的学生记录
- **响应**: 学生列表

#### 5.2.2 分页获取学生列表

- **请求方法**: GET
- **URL**: `/api/students/page`
- **参数**:
  - `page`: 页码（从0开始），默认0
  - `size`: 每页记录数，默认10
  - `sort`: 排序字段，默认id
  - `direction`: 排序方向（ASC/DESC），默认ASC
- **响应**: 分页学生列表

#### 5.2.3 获取单个学生

- **请求方法**: GET
- **URL**: `/api/students/{id}`
- **描述**: 通过ID获取学生详情
- **响应**: 学生详情

#### 5.2.4 创建学生

- **请求方法**: POST
- **URL**: `/api/students`
- **请求体**: 学生信息（JSON格式）
- **响应**: 创建的学生信息

#### 5.2.5 更新学生

- **请求方法**: PUT
- **URL**: `/api/students/{id}`
- **请求体**: 学生更新信息（JSON格式）
- **响应**: 更新后的学生信息

#### 5.2.6 删除学生

- **请求方法**: DELETE
- **URL**: `/api/students/{id}`
- **描述**: 软删除学生记录
- **响应**: 成功/失败状态

#### 5.2.7 搜索学生

- **请求方法**: GET
- **URL**: `/api/students/search`
- **参数**: `term`: 搜索关键字
- **描述**: 在姓名、电话、邮箱字段中查找匹配记录
- **响应**: 匹配的学生列表

#### 5.2.8 分页搜索学生

- **请求方法**: GET
- **URL**: `/api/students/search/page`
- **参数**:
  - `term`: 搜索关键字
  - `page`: 页码（从0开始），默认0
  - `size`: 每页记录数，默认10
  - `sort`: 排序字段，默认id
  - `direction`: 排序方向（ASC/DESC），默认ASC
- **响应**: 分页匹配的学生列表

#### 5.2.9 按姓名查找学生

- **请求方法**: GET
- **URL**: `/api/students/by-name`
- **参数**: `name`: 学生姓名
- **响应**: 匹配的学生列表

#### 5.2.10 按电话查找学生

- **请求方法**: GET
- **URL**: `/api/students/by-phone`
- **参数**: `phone`: 电话号码
- **响应**: 匹配的学生列表

### 5.3 响应格式

所有 API 响应都使用统一的格式：

```json
{
  "success": true/false,
  "message": "响应消息",
  "data": { ... } // 响应数据，可以是对象、数组或为 null
}
```

分页响应格式：

```json
{
  "success": true,
  "message": "响应消息",
  "data": {
    "content": [ ... ], // 当前页数据
    "currentPage": 0,    // 当前页码
    "totalItems": 100,   // 总记录数
    "totalPages": 10,    // 总页数
    "size": 10,          // 每页大小
    "first": true,       // 是否为第一页
    "last": false,       // 是否为最后一页
    "empty": false       // 是否为空
  }
}
```

## 6. 非功能需求

### 6.1 性能需求

1. 页面加载时间不超过2秒
2. 搜索操作响应时间不超过1秒
3. 系统应能支持至少1000名学生的数据管理

### 6.2 安全需求

1. 所有接口应防止未授权访问
2. 输入数据应进行充分验证，防止注入攻击
3. 学生敏感信息（如电话）应妥善保护

### 6.3 可用性需求

1. 系统界面应简洁直观，易于新用户上手
2. 操作结果应有明确反馈，预防用户误操作
3. 表单应提供适当的验证和错误提示

### 6.4 可扩展性需求

1. 系统设计应便于未来添加新功能
2. 代码结构应模块化，便于维护和扩展
3. 应考虑国际化支持的可能

## 7. 部署要求

### 7.1 环境要求

1. **前端**:
   - Node.js 14 或更高版本
   - NPM 6 或更高版本

2. **后端**:
   - JDK 11 或更高版本
   - Maven 3.6 或更高版本
   - MySQL 8.0 或更高版本

### 7.2 部署步骤

1. **后端部署**:
   - 配置 application.properties 数据库连接参数
   - 使用 Maven 构建应用
   - 运行 Spring Boot 应用

2. **前端部署**:
   - 配置 API 基础 URL
   - 安装依赖
   - 构建生产版本
   - 部署到 Web 服务器

## 8. 未来扩展计划

1. 用户认证和授权功能
2. 学生照片上传功能
3. 导入/导出 Excel 功能
4. 班级/课程管理功能
5. 成绩管理功能
6. 考勤管理功能
7. 统计报表功能 
